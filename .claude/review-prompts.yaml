# Claude Multi-Perspective Code Review 설정
# 위치: .claude/review-prompts.yaml
#
# 각 관점(perspective)별로 확인 항목만 정의합니다.
# 공통 프롬프트(헤더, 보고서 형식, VERDICT 요청)는 스크립트에서 자동 주입됩니다.
#
# 리뷰 결과:
#   .claude-review/reports/{name}.md - 상세 보고서
#   .claude-review/results/{name}.json - 결과 (PASS/FAIL)

perspectives:
  # ============================================
  # 보안 리뷰
  # ============================================
  - name: security
    prompt: |
      ## 확인 항목
      - SQL Injection, XSS, Command Injection 취약점
      - 하드코딩된 시크릿, API 키, 비밀번호
      - 인증/인가 누락 또는 우회 가능성
      - 민감 정보 로깅
      - 안전하지 않은 역직렬화
      - Path Traversal 취약점

  # ============================================
  # 버그 리뷰
  # ============================================
  - name: bugs
    prompt: |
      ## 확인 항목
      - 논리 오류 (조건문, 루프)
      - Null/None 참조 위험
      - 예외 처리 누락
      - 리소스 누수 (파일, DB 커넥션, 메모리)
      - 경계 조건 오류 (off-by-one, 빈 배열)
      - 동시성 문제 (race condition)

  # ============================================
  # 아키텍처 리뷰 (선택)
  # ============================================
  # - name: architecture
  #   prompt: |
  #     ## 확인 항목
  #     - 레이어 간 의존성 위반 (Domain → Infrastructure 참조)
  #     - 모듈 경계 위반 (내부 구현체 직접 import)
  #     - 순환 의존성
  #     - 단일 책임 원칙 위반

  # ============================================
  # 성능 리뷰 (선택)
  # ============================================
  # - name: performance
  #   prompt: |
  #     ## 확인 항목
  #     - N+1 쿼리 문제
  #     - 불필요한 반복문 내 DB/API 호출
  #     - 큰 데이터 메모리 로드
  #     - 비효율적인 알고리즘 (O(n²) 등)
  #     - 캐싱 누락

  # ============================================
  # 테스트 리뷰 (선택)
  # ============================================
  # - name: testability
  #   prompt: |
  #     ## 확인 항목
  #     - 새 기능에 테스트 누락
  #     - 테스트하기 어려운 구조 (하드코딩된 의존성)
  #     - 엣지 케이스 테스트 누락
